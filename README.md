# workpkg

 ノードの説明（未定）

 **Repository:**
https://github.com/Happa2549/workpkg

## 目次
- [準備](#準備)
- [対応環境](#対応環境)
- [ファイルの実行](#ファイルの実行)
- [使用例＋出力例](#使用例＋出力例)
- [既知の制限](#既知の制限)
- [ライセンス](#ライセンス)

## 準備

### 1. Python環境のインストール

Ubuntu 系の場合、以下を実行してください：

```bash
sudo apt update
sudo apt install -y python3 python3-pip

pip install --upgrade pip
pip install PyPDF2 pdfplumber

chmod +x cvt_pdf
chmod +x test.bash

```


 ### 2. 対応環境
 - Ubuntu 22.04 / 20.04
 - Python 3.10, 3.11　(動作確認済み)

 ※ 本環境では release-upgrades が無効化されており、
      Ubuntu のメジャーバージョンアップは実施できなかったため
      本バージョン以降の動作は保証していません｡


## ファイルの実行
- 本プログラムはPDFを標準入力から受け取ります。
- ファイル名を引数として直接指定することはできません。

- まず中身をテキストに起こしたいPDFファイルを用意する。

- そのファイルをcvt_pdfと同じディレクトリに置く。

- 次に以下を入力する。

## 使用例＋出力例
### 1. 全文表示(PDF全ページを出力)
 ```
　$ cat sample.pdf | ./cvt_pdf
  [Page 1]
　これはPDFのテキストです。
 ```
- PDF 内のテキストが標準出力に表示されます。

### 2. ページ指定(例：1ページ目のみ出力)
 ```
　$ (echo 1; echo "-"; cat sample.pdf) | ./cvt_pdf
　＊ここに1ページの内容が表示される。
 ```
- 指定したページのテキストのみを出力します。

### 3. PDF内検索(例："test"を含むすべてのページ番号を出力)
 ```
　$ (echo test; echo "-"; cat sample.pdf) | ./cvt_pdf
　1
　2
　5
 ```
- 検索したワードを含むページ番号のみを出力します。
- 改行を挟む単語を検索する場合にうまく検出されない場合があります。

## 既知の制限
   - 画像だけのPDFはテキストが抽出できません（別途OCRが必要）。
   - 日本語の特殊フォントは正しく出力されない場合があります。
   - 検索機能において、数字を検索する場合、指定のページを出力する機能のほうが優先されるため、数字の検索はできません。
   - PDF以外の入力や壊れたPDFを入力した場合、終了ステータス1で終了します。
   - 標準入力がからの場合も修力ステータス1で終了します。


# ライセンス
- このソフトウェアパッケージは，GNU General Public License v3.0 (GPL-3.0) の下で配布されます。
- ソフトウェアの使用，コピー，改変，および再頒布が許可されています。
- GPL 3.0 の全文は"https://github.com/Happa2549/robosys2025/blob/main/COPYING"
  を参照してください。
- © 2025 Shunsuke Morito
